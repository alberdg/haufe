[{"/Users/alberto/dev/interviews/haufe-test/client/src/index.js":"1","/Users/alberto/dev/interviews/haufe-test/client/src/Root.js":"2","/Users/alberto/dev/interviews/haufe-test/client/src/history.js":"3","/Users/alberto/dev/interviews/haufe-test/client/src/components/login/index.jsx":"4","/Users/alberto/dev/interviews/haufe-test/client/src/components/home/index.jsx":"5","/Users/alberto/dev/interviews/haufe-test/client/src/components/signup/index.jsx":"6","/Users/alberto/dev/interviews/haufe-test/client/src/components/character/character-detail/index.jsx":"7","/Users/alberto/dev/interviews/haufe-test/client/src/reducers/index.js":"8","/Users/alberto/dev/interviews/haufe-test/client/src/utils/index.js":"9","/Users/alberto/dev/interviews/haufe-test/client/src/actions/characters/index.js":"10","/Users/alberto/dev/interviews/haufe-test/client/src/actions/auth/index.js":"11","/Users/alberto/dev/interviews/haufe-test/client/src/actions/signup/index.js":"12","/Users/alberto/dev/interviews/haufe-test/client/src/components/header/index.jsx":"13","/Users/alberto/dev/interviews/haufe-test/client/src/components/spinner/index.jsx":"14","/Users/alberto/dev/interviews/haufe-test/client/src/components/character/character-list/index.jsx":"15","/Users/alberto/dev/interviews/haufe-test/client/src/components/character/character-card/index.jsx":"16","/Users/alberto/dev/interviews/haufe-test/client/src/reducers/auth/index.js":"17","/Users/alberto/dev/interviews/haufe-test/client/src/reducers/characters/index.js":"18","/Users/alberto/dev/interviews/haufe-test/client/src/reducers/signup/index.js":"19","/Users/alberto/dev/interviews/haufe-test/client/src/constants/index.js":"20","/Users/alberto/dev/interviews/haufe-test/client/src/actions/characters/types.js":"21","/Users/alberto/dev/interviews/haufe-test/client/src/actions/auth/types.js":"22","/Users/alberto/dev/interviews/haufe-test/client/src/actions/signup/types.js":"23"},{"size":927,"mtime":1609338753279,"results":"24","hashOfConfig":"25"},{"size":654,"mtime":1609344849233,"results":"26","hashOfConfig":"25"},{"size":110,"mtime":1608997691469,"results":"27","hashOfConfig":"25"},{"size":2812,"mtime":1609351694671,"results":"28","hashOfConfig":"25"},{"size":2583,"mtime":1609348868957,"results":"29","hashOfConfig":"25"},{"size":4167,"mtime":1609351372339,"results":"30","hashOfConfig":"25"},{"size":3788,"mtime":1609350468648,"results":"31","hashOfConfig":"25"},{"size":309,"mtime":1609257274018,"results":"32","hashOfConfig":"25"},{"size":660,"mtime":1609348710628,"results":"33","hashOfConfig":"25"},{"size":2524,"mtime":1609348465531,"results":"34","hashOfConfig":"25"},{"size":1589,"mtime":1609320307318,"results":"35","hashOfConfig":"25"},{"size":1169,"mtime":1609323624335,"results":"36","hashOfConfig":"25"},{"size":553,"mtime":1609345008318,"results":"37","hashOfConfig":"25"},{"size":425,"mtime":1609256020454,"results":"38","hashOfConfig":"25"},{"size":729,"mtime":1609252357142,"results":"39","hashOfConfig":"25"},{"size":2013,"mtime":1609349672745,"results":"40","hashOfConfig":"25"},{"size":983,"mtime":1609371217391,"results":"41","hashOfConfig":"25"},{"size":1333,"mtime":1609184314602,"results":"42","hashOfConfig":"25"},{"size":976,"mtime":1609258685599,"results":"43","hashOfConfig":"25"},{"size":89,"mtime":1609183060754,"results":"44","hashOfConfig":"25"},{"size":574,"mtime":1609173398786,"results":"45","hashOfConfig":"25"},{"size":312,"mtime":1609182738549,"results":"46","hashOfConfig":"25"},{"size":283,"mtime":1609258660184,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"sxt8s5",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"50"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"50"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"50"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"/Users/alberto/dev/interviews/haufe-test/client/src/index.js",[],["98","99"],"/Users/alberto/dev/interviews/haufe-test/client/src/Root.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/history.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/components/login/index.jsx",[],"/Users/alberto/dev/interviews/haufe-test/client/src/components/home/index.jsx",["100"],"import React, { useEffect, useState } from 'react';\nimport { connect, useSelector, useDispatch } from 'react-redux';\nimport { fetchCharacters, resetCharactersList } from '../../actions/characters';\nimport { Redirect } from 'react-router-dom';\nimport Header from '../header';\nimport Spinner from '../spinner';\nimport CharacterList from '../character/character-list';\n\nconst Home = () => {\n  const dispatch = useDispatch();\n  const [ loading, setLoading ] = useState(true);\n  const [ fetchCharactersError, setFetchCharactersError ] = useState(false);\n  const [ page, setPage ] = useState(1);\n  const { user } = useSelector(state => state.auth);\n  const { characters, info } = useSelector(state => state.characters);\n\n\n  const handleFetchCharacters = () => {\n    setLoading(true);\n    dispatch(fetchCharacters(page, () => {\n      setLoading(false);\n    }, () => {\n      setLoading(false);\n      setFetchCharactersError(true);\n    }));\n  }\n\n  const handleLoadMoreCharacters = () => {\n    if (fetchCharactersError) {\n      setFetchCharactersError(false);\n      handleFetchCharacters();\n      return;\n    }\n    setPage(page => page + 1);\n  }\n\n  useEffect(() => {\n    if (page === 1) {\n      dispatch(resetCharactersList());\n    }\n    if (user) {\n      handleFetchCharacters();\n    }\n  }, [ user, page ]);\n\n  if (!user) {\n    return <Redirect to=\"/\" />\n  }\n\n  const renderCharacterList = () => {\n    if (loading) return null;\n    return <CharacterList characters={characters}\n      fetchCharacters={() => handleLoadMoreCharacters()}\n      hasMore={characters.length < info.count}\n      totalCount={info.count}\n    />\n  }\n\n  const renderSpinner = () => {\n    if (!loading) return null;\n    return <Spinner />\n  }\n\n  const renderFetchCharactersError = () => {\n    if (!fetchCharactersError) return null;\n    return (\n      <div className=\"row error-message\">\n        <div className=\"alert alert-error\">Error loading characters, please try again</div>\n      </div>\n    )\n  }\n\n  const renderLoadMoreCharacters = () => {\n    if (loading) return null;\n    return (\n      <div className=\"row mb-3\">\n        <button id=\"load-more-characters\" className=\"btn btn-primary\" onClick={() => handleLoadMoreCharacters()}>\n          Load more characters\n        </button>\n      </div>\n    )\n  }\n  const renderHome = () => {\n    return (\n      <>\n        <Header />\n        {renderSpinner()}\n        {renderCharacterList()}\n        {renderFetchCharactersError()}\n        {renderLoadMoreCharacters()}\n      </>\n    )\n  }\n\n  return renderHome();\n}\n\nexport default connect(null, { resetCharactersList })(Home);\n","/Users/alberto/dev/interviews/haufe-test/client/src/components/signup/index.jsx",["101"],"import React, { useState, useEffect } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport { connect, useDispatch, useSelector } from 'react-redux'\nimport { signup, setName, setEmail, setPassword, setSignupError } from '../../actions/signup';\nimport Spinner from '../spinner';\n\nconst Signup = ({ history }) => {\n  const [ loading, setLoading ] = useState(false);\n  const [ emailInUseError, setEmailInUseError] = useState(false);\n  const dispatch = useDispatch();\n  const { user } = useSelector(state => state.auth);\n  const { name, email, password, signupError } = useSelector(state => state.signup);\n\n  useEffect(() => {\n    dispatch(setSignupError(false));\n  }, []);\n\n  if (user) {\n    return <Redirect to='/home' />\n  }\n\n  const isEmailInUse = error => {\n    if (!error || !error.response || !error.response.data) {\n      return false;\n    }\n    const { errors } = error.response.data;\n    if (!Array.isArray(errors) || errors.length !== 1) {\n      return false;\n    }\n    return errors[0].message === 'EMAIL_IN_USE';\n  }\n\n  const doSignup = () => {\n    setLoading(true);\n    setSignupError(false);\n    setEmailInUseError(false);\n    dispatch(signup(name, email, password, (data) => {\n      setLoading(false);\n    }, (error) => {\n      const emailInUse = isEmailInUse(error);\n      setEmailInUseError(emailInUse);\n      setLoading(false);\n      setSignupError(true);\n    }));\n\n  }\n\n  const renderError = (display, message) => {\n    if (!display) return null;\n    return (\n      <div className=\"alert alert-error\">\n        {message}\n      </div>\n    )\n  }\n  const renderSignupError = () => {\n    const display = !loading && !emailInUseError && signupError;\n    return renderError(display, 'Error in sign up, please try again');\n  }\n\n  const renderEmailInUseError = () => {\n    const display = !loading && emailInUseError;\n    return renderError(display, 'The given email is in use');\n  }\n\n  const renderNameInput = () => {\n    return (\n      <div className=\"row\">\n        <input type=\"name\" id=\"name-input\" className=\"form-control\" onChange={event => dispatch(setName(event.target.value))} value={name}\n          placeholder=\"Your first name\"/>\n      </div>\n    );\n  }\n\n  const renderEmailInput = () => {\n    return (\n      <div className=\"row\">\n        <input type=\"email\" id=\"email-input\" className=\"form-control\" onChange={event => dispatch(setEmail(event.target.value))} value={email}\n          placeholder=\"Your best email\"/>\n      </div>\n    );\n  }\n\n  const renderPasswordInput = () => {\n    return (\n      <div className=\"row\">\n        <input type=\"password\" id=\"password-input\"  className=\"form-control\"onChange={event => dispatch(setPassword(event.target.value))} value={password}\n          placeholder=\"Your strongest password\"/>\n      </div>\n    );\n  }\n\n  const renderSignup = () => {\n    return (\n      <div className=\"row\">\n        <button id=\"signup-submit\" onClick={() => doSignup()} className=\"btn btn-primary\">Sign up</button>\n      </div>\n    );\n  }\n\n  const renderSignin = () => {\n    return (\n      <div className=\"row\">\n        <Link id=\"log-in\" to=\"/\">Sign in</Link>\n      </div>\n    );\n  }\n\n  const renderTitle = () => {\n    return (\n      <div id=\"signup-title\" className=\"row\">\n        <h3>Sign up to Haufe Test</h3>\n      </div>\n    )\n  }\n\n  const renderSubtitle = () => {\n    return (\n      <div id=\"signup-subtitle\" className=\"row\">\n        <h5>Please provide your details</h5>\n      </div>\n    )\n  }\n\n  const renderForm = () => {\n    if (loading) return null;\n    return (\n        <form noValidate className=\"form-details\">\n          {renderTitle()}\n          {renderSubtitle()}\n          {renderNameInput()}\n          {renderEmailInput()}\n          {renderPasswordInput()}\n          {renderSignup()}\n          {renderSignin()}\n          {renderSignupError()}\n          {renderEmailInUseError()}\n      </form>\n    );\n  }\n\n  const renderSpinner = () => {\n    if (!loading) return null;\n    return <Spinner />\n  }\n\n  return (\n    <div className=\"form-container\">\n      {renderSpinner()}\n      {renderForm()}\n    </div>\n  );\n}\n\n\n\nexport default connect(null, { setName, setEmail, setPassword, setSignupError })(Signup);\n","/Users/alberto/dev/interviews/haufe-test/client/src/components/character/character-detail/index.jsx",["102"],"import React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect, useSelector, useDispatch } from 'react-redux';\nimport { fetchCharacterDetail, resetCharacterDetail, setFavouriteCharacter } from '../../../actions/characters';\nimport Header from '../../header';\nimport Spinner from '../../spinner';\nimport CharacterCard from '../character-card';\n\n\nimport '../character.css';\n\nconst CharacterDetail = ({ match }) => {\n  const [ loading, setLoading ] = useState(true);\n  const [ updating, setUpdating] = useState(false);\n  const [ fetchDetailError, setFetchDetailError ] = useState(false);\n  const [ updateFavouriteCharacterError, setUpdateFavouriteCharacterError ] = useState(false);\n  const { characterDetail, favouriteCharacter } = useSelector(state => state.characters);\n  const { user } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const { id } = match.params;\n\n  const handleSetFavouriteCharacter = favourite => {\n    setUpdating(true);\n    setUpdateFavouriteCharacterError(false);\n    dispatch(setFavouriteCharacter(id, favourite,() => {\n      setUpdating(false);\n    }, () => {\n      setUpdating(false);\n      setUpdateFavouriteCharacterError(true);\n    }))\n  }\n\n  const loadCharacterDetail = id => {\n    dispatch(fetchCharacterDetail(id, () => {\n      setLoading(false);\n    }, () => {\n      setLoading(false);\n      setFetchDetailError(true);\n    }));\n  }\n\n  useEffect(() => {\n    if (user) {\n      dispatch(resetCharacterDetail());\n      if (id) {\n        loadCharacterDetail(id);\n      }\n    }\n  }, [ id, user ]);\n\n  if (!user) {\n    return <Redirect to='/' />\n  }\n\n  const renderUpdateFavouriteCharacterError = () => {\n    if (loading || !updateFavouriteCharacterError) return null;\n    return (\n      <div className=\"row\" id=\"update-character-favourite-error\">\n        <div className=\"alert alert-error\">\n          Error updating favourites list\n        </div>\n      </div>\n    )\n  }\n  const renderFetchDetailError = () => {\n    if (loading || !fetchDetailError) return null;\n    return (\n      <div className=\"row\" id=\"fetch-detail-error\">\n        <div className=\"alert alert-error\">\n          Error fetching character's detail with id: {id}\n        </div>\n      </div>\n    )\n  }\n\n  const renderDetail = () => {\n    if (loading || fetchDetailError || !characterDetail) return null;\n    return (\n      <div id=\"character-detail\">\n        {renderUpdateFavouriteCharacterError()}\n        {renderSpinner(updating, '#FFF')}\n        {renderToggleInFavorites()}\n        <CharacterCard character={characterDetail} />\n      </div>\n    );\n  }\n\n  const renderSpinner = (renderFlag, color = null) => {\n    if (!renderFlag) return null;\n    return <Spinner color={color} />\n  }\n\n  const renderDetailSpinner = () => {\n    return renderSpinner(loading);\n  }\n\n  const renderToggleInFavorites = () => {\n    if (updating) return null;\n    const message = favouriteCharacter ? 'In favourites list' : 'Not in favourites list';\n    return (\n      <div className=\"row\" id=\"character-detail-switch\">\n        <label className=\"switch\">\n          <input type=\"checkbox\" checked={favouriteCharacter}\n            onChange={(event) => handleSetFavouriteCharacter(event.target.checked)}/>\n          <span className=\"slider round\"></span>\n        </label>\n        <span id=\"character-detail-switch-text\">{message}</span>\n      </div>\n    );\n  }\n  const renderCharacterDetail = () => {\n    return (\n      <>\n        <Header />\n          {renderDetail()}\n          <div id=\"detail-spinner\">\n            {renderDetailSpinner()}\n          </div>\n          {renderFetchDetailError()}\n      </>\n    )\n  }\n  return renderCharacterDetail();\n}\nexport default connect(null, { resetCharacterDetail, setFavouriteCharacter})(CharacterDetail);\n","/Users/alberto/dev/interviews/haufe-test/client/src/reducers/index.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/utils/index.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/actions/characters/index.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/actions/auth/index.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/actions/signup/index.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/components/header/index.jsx",[],"/Users/alberto/dev/interviews/haufe-test/client/src/components/spinner/index.jsx",[],"/Users/alberto/dev/interviews/haufe-test/client/src/components/character/character-list/index.jsx",[],"/Users/alberto/dev/interviews/haufe-test/client/src/components/character/character-card/index.jsx",[],"/Users/alberto/dev/interviews/haufe-test/client/src/reducers/auth/index.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/reducers/characters/index.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/reducers/signup/index.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/constants/index.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/actions/characters/types.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/actions/auth/types.js",[],"/Users/alberto/dev/interviews/haufe-test/client/src/actions/signup/types.js",[],{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":44,"column":6,"nodeType":"109","endLine":44,"endColumn":20,"suggestions":"110"},{"ruleId":"107","severity":1,"message":"111","line":16,"column":6,"nodeType":"109","endLine":16,"endColumn":8,"suggestions":"112"},{"ruleId":"107","severity":1,"message":"113","line":49,"column":6,"nodeType":"109","endLine":49,"endColumn":18,"suggestions":"114"},"no-native-reassign",["115"],"no-negated-in-lhs",["116"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'handleFetchCharacters'. Either include them or remove the dependency array.","ArrayExpression",["117"],"React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["118"],"React Hook useEffect has missing dependencies: 'dispatch' and 'loadCharacterDetail'. Either include them or remove the dependency array.",["119"],"no-global-assign","no-unsafe-negation",{"desc":"120","fix":"121"},{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},"Update the dependencies array to be: [user, page, dispatch, handleFetchCharacters]",{"range":"126","text":"127"},"Update the dependencies array to be: [dispatch]",{"range":"128","text":"129"},"Update the dependencies array to be: [dispatch, id, loadCharacterDetail, user]",{"range":"130","text":"131"},[1282,1296],"[user, page, dispatch, handleFetchCharacters]",[683,685],"[dispatch]",[1584,1596],"[dispatch, id, loadCharacterDetail, user]"]